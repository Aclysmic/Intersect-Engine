<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="12.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">x86</Platform>
    <ProductVersion>8.0.30703</ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{9FFC7331-87BE-403B-82A0-B86D3CCE7C53}</ProjectGuid>
    <OutputType>Exe</OutputType>
    <RootNamespace>Intersect.Server</RootNamespace>
    <AssemblyName>Intersect Server</AssemblyName>
    <TargetFrameworkVersion>v4.5</TargetFrameworkVersion>
    <TargetFrameworkProfile />
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|x86' ">
    <DebugSymbols>True</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>False</Optimize>
    <OutputPath>..\build\debug\server\</OutputPath>
    <DefineConstants>DEBUG;</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <PlatformTarget>x86</PlatformTarget>
    <Externalconsole>True</Externalconsole>
    <Prefer32Bit>false</Prefer32Bit>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|x86' ">
    <DebugType>none</DebugType>
    <Optimize>False</Optimize>
    <OutputPath>..\build\release\server\</OutputPath>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <PlatformTarget>x86</PlatformTarget>
    <Externalconsole>True</Externalconsole>
    <Prefer32Bit>false</Prefer32Bit>
  </PropertyGroup>
  <PropertyGroup>
    <StartupObject>Intersect.Server.Classes.MainClass</StartupObject>
  </PropertyGroup>
  <PropertyGroup>
    <ApplicationIcon>Icon.ico</ApplicationIcon>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Debug|x64'">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>..\build\debug\server\</OutputPath>
    <DefineConstants>DEBUG;</DefineConstants>
    <DebugType>full</DebugType>
    <PlatformTarget>x64</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
    <Prefer32Bit>false</Prefer32Bit>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Release|x64'">
    <OutputPath>..\build\release\server\</OutputPath>
    <PlatformTarget>x64</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
    <Prefer32Bit>false</Prefer32Bit>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Debug|AnyCPU'">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>..\build\debug\server\</OutputPath>
    <DefineConstants>DEBUG;</DefineConstants>
    <DebugType>full</DebugType>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
    <Prefer32Bit>false</Prefer32Bit>
    <Optimize>false</Optimize>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Release|AnyCPU'">
    <OutputPath>..\build\release\server\</OutputPath>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
    <Prefer32Bit>false</Prefer32Bit>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Tespia|x86'">
    <OutputPath>..\build\tespia\server\</OutputPath>
    <PlatformTarget>x86</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
    <DefineConstants>TRACE;DEBUG</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Tespia|x64'">
    <OutputPath>..\build\tespia\server\</OutputPath>
    <PlatformTarget>x64</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Tespia|AnyCPU'">
    <OutputPath>..\build\tespia\server\</OutputPath>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="Lidgren.Network, Version=3.6.0.1271, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\lib\Lidgren.Network.dll</HintPath>
    </Reference>
    <Reference Include="Mono.Data.Sqlite, Version=2.0.0.0, Culture=neutral, PublicKeyToken=0738eb9f132ed756, processorArchitecture=MSIL">
      <HintPath>packages\Mono.Data.Sqlite.Portable.1.0.3.5\lib\net4\Mono.Data.Sqlite.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="NCalc">
      <HintPath>.\NCalc.dll</HintPath>
    </Reference>
    <Reference Include="System" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Data" />
    <Reference Include="System.Data.Portable, Version=4.0.0.0, Culture=neutral, PublicKeyToken=59e704a76bc4613a, processorArchitecture=MSIL">
      <HintPath>packages\Mono.Data.Sqlite.Portable.1.0.3.5\lib\net4\System.Data.Portable.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Transactions" />
    <Reference Include="System.Transactions.Portable, Version=4.0.0.0, Culture=neutral, PublicKeyToken=59e704a76bc4613a, processorArchitecture=MSIL">
      <HintPath>packages\Mono.Data.Sqlite.Portable.1.0.3.5\lib\net4\System.Transactions.Portable.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.XML" />
    <Reference Include="websocket-sharp">
      <HintPath>.\websocket-sharp.dll</HintPath>
    </Reference>
  </ItemGroup>
  <ItemGroup>
    <Compile Include="Classes\Core\ServerSystem.cs" />
    <Compile Include="Classes\Entities\EventInstance.cs" />
    <Compile Include="Classes\Entities\Projectile.cs" />
    <Compile Include="Classes\Entities\Resource.cs" />
    <Compile Include="Classes\Entities\EventPageInstance.cs" />
    <Compile Include="Classes\Core\Main.cs" />
    <Compile Include="Classes\General\Formulas.cs" />
    <Compile Include="Classes\General\ServerOptions.cs" />
    <Compile Include="Classes\General\ServerTime.cs" />
    <Compile Include="Classes\Items\BagInstance.cs" />
    <Compile Include="Classes\Items\ItemInstance.cs" />
    <Compile Include="Classes\Maps\MapInstance.cs" />
    <Compile Include="Classes\Maps\MapItemInstance.cs" />
    <Compile Include="Classes\Maps\MapItemSpawn.cs" />
    <Compile Include="Classes\Maps\MapNpcSpawn.cs" />
    <Compile Include="Classes\Maps\MapResourceSpawn.cs" />
    <Compile Include="Classes\Maps\TileHelper.cs" />
    <Compile Include="Classes\Misc\Pathfinding\Pathfinder.cs" />
    <Compile Include="Classes\Misc\Pathfinding\SpatialAStar.cs" />
    <Compile Include="Classes\Misc\Pathfinding\PathfinderTarget.cs" />
    <Compile Include="Classes\Misc\Pathfinding\PriorityQueue.cs" />
    <Compile Include="Classes\Networking\GameSocket.cs" />
    <Compile Include="Classes\Networking\NetSocket.cs" />
    <Compile Include="Classes\Networking\NetSocketServer.cs" />
    <Compile Include="Classes\Networking\Client.cs" />
    <Compile Include="Classes\Entities\Npc.cs" />
    <Compile Include="Classes\Networking\PacketHandler.cs" />
    <Compile Include="Classes\General\Globals.cs" />
    <Compile Include="Classes\Networking\PacketSender.cs" />
    <Compile Include="Classes\Entities\Player.cs" />
    <Compile Include="Classes\Entities\Entity.cs" />
    <Compile Include="Classes\Core\Database.cs" />
    <Compile Include="Classes\Maps\MapGrid.cs" />
    <Compile Include="Classes\Core\ServerLoop.cs" />
    <Compile Include="Classes\Networking\WebSocket.cs" />
    <Compile Include="Classes\Networking\WebSocketServer.cs" />
    <Compile Include="Classes\Spells\SpellInstance.cs" />
    <Compile Include="Network\ServerNetwork.cs" />
    <Compile Include="Network\ThreadYieldNet40.cs" />
    <Compile Include="Program.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="Properties\Resources.Designer.cs">
      <AutoGen>True</AutoGen>
      <DesignTime>True</DesignTime>
      <DependentUpon>Resources.resx</DependentUpon>
    </Compile>
  </ItemGroup>
  <ItemGroup>
    <None Include="private.bk1">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="app.config" />
    <None Include="packages.config" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="Icon.ico" />
    <None Include="resources\config.xml" />
    <None Include="resources\formulas.xml" />
    <Content Include="x64\Mono.Data.Sqlite.dll">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
    <Content Include="x64\sqlite3.dll">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
    <Content Include="x86\Mono.Data.Sqlite.dll">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="x86\sqlite3.dll">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Include="Properties\Resources.resx">
      <Generator>ResXFileCodeGenerator</Generator>
      <LastGenOutput>Resources.Designer.cs</LastGenOutput>
    </EmbeddedResource>
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\Intersect Library\Intersect Library\Intersect %28Core%29.csproj">
      <Project>{bc304b43-1f2c-4454-9edc-48f47357ca94}</Project>
      <Name>Intersect %28Core%29</Name>
    </ProjectReference>
    <ProjectReference Include="..\Intersect.Network\Intersect.Network.csproj">
      <Project>{e8f288cb-51df-4d9d-a3b3-a61bd4fd3f45}</Project>
      <Name>Intersect.Network</Name>
    </ProjectReference>
  </ItemGroup>
  <ItemGroup>
    <Folder Include="Network\Handlers\" />
  </ItemGroup>
  <Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" />
  <Import Project="packages\Mono.Data.Sqlite.Portable.1.0.3.5\tools\Mono.Data.Sqlite.Portable.targets" Condition="Exists('packages\Mono.Data.Sqlite.Portable.1.0.3.5\tools\Mono.Data.Sqlite.Portable.targets')" />
  <Target Name="EnsureMonoDataSqlitePortableImported" BeforeTargets="BeforeBuild" Condition="'$(MonoDataSqlitePortableImported)' == ''">
    <Error Condition="!Exists('packages\Mono.Data.Sqlite.Portable.1.0.3.5\tools\Mono.Data.Sqlite.Portable.targets')" Text="This project references NuGet package(s) that are missing on this computer. Enable NuGet Package Restore to download them." />
    <Error Condition="Exists('packages\Mono.Data.Sqlite.Portable.1.0.3.5\tools\Mono.Data.Sqlite.Portable.targets')" Text="The build restored NuGet packages. Build the project again to include these packages in the build." />
  </Target>
  <PropertyGroup>
    <PostBuildEvent>if exist libs rmdir /S /Q libs
if not exist libs mkdir libs
if not exist libs\server mkdir libs\server
del "$(TargetDir)Mono.Data.Sqlite.dll"
move /Y "$(TargetDir)*.dll" "$(TargetDir)\libs\server\"
move /Y "$(TargetDir)*.xml" "$(TargetDir)\libs\server\"
move /Y "$(TargetDir)Intersect Library.pdb" "$(TargetDir)\libs\server\"
move /Y "$(TargetDir)x64" "$(TargetDir)\libs\server\"
move /Y "$(TargetDir)x86" "$(TargetDir)\libs\server\"</PostBuildEvent>
  </PropertyGroup>
</Project>